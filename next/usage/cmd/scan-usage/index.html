<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="driftctl-docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="driftctl-docs Blog Atom Feed"><title data-react-helmet="true">Scan | driftctl-docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="og:type" content="website"><meta data-react-helmet="true" name="og:image" content="https://docs.driftctl.com/img/preview.png"><meta data-react-helmet="true" property="og:title" content="Scan | driftctl-docs"><meta data-react-helmet="true" name="description" content="`shell"><meta data-react-helmet="true" property="og:description" content="`shell"><meta data-react-helmet="true" property="og:url" content="https://docs.driftctl.com/next/usage/cmd/scan-usage"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.driftctl.com/next/usage/cmd/scan-usage"><link rel="stylesheet" href="/styles.a9f8c6e7.css">
<link rel="preload" href="/styles.6813f97f.js" as="script">
<link rel="preload" href="/runtime~main.f5e80533.js" as="script">
<link rel="preload" href="/main.32044eee.js" as="script">
<link rel="preload" href="/1.b27f324d.js" as="script">
<link rel="preload" href="/2.a5761f4f.js" as="script">
<link rel="preload" href="/357.88d1ffa6.js" as="script">
<link rel="preload" href="/358.b7e1cd92.js" as="script">
<link rel="preload" href="/935f2afb.1de65c9f.js" as="script">
<link rel="preload" href="/17896441.c9630216.js" as="script">
<link rel="preload" href="/c68377e9.51d23025.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/driftctl_light.svg" alt="driftctl Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/driftctl_dark.svg" alt="driftctl Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">driftctl</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/next/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/next/usage/cmd/scan-usage">Next</a></li><li><a class="dropdown__link" href="/0.17.0/usage/cmd/scan-usage">0.17.0</a></li><li><a class="dropdown__link" href="/0.16.0/usage/cmd/scan-usage">0.16.0</a></li><li><a class="dropdown__link" href="/0.15.0/usage/cmd/scan-usage">0.15.0</a></li><li><a class="dropdown__link" href="/0.14.0/usage/cmd/scan-usage">0.14.0</a></li><li><a class="dropdown__link" href="/0.13.0/usage/cmd/scan-usage">0.13.0</a></li><li><a class="dropdown__link" href="/0.12.0/usage/cmd/scan-usage">0.12.0</a></li><li><a class="dropdown__link" href="/0.11.0/usage/cmd/scan-usage">0.11.0</a></li><li><a class="dropdown__link" href="/0.10.0/usage/cmd/scan-usage">0.10.0</a></li><li><a class="dropdown__link" href="/0.9.0/usage/cmd/scan-usage">0.9.0</a></li><li><a class="dropdown__link" href="/0.8.0/usage/cmd/scan-usage">0.8.0</a></li><li><a class="dropdown__link" href="/0.7.1/usage/cmd/scan-usage">0.7.1</a></li><li><a class="dropdown__link" href="/0.7.0/usage/cmd/scan-usage">0.7.0</a></li><li><a class="dropdown__link" href="/0.6.0/">0.6.0</a></li><li><a class="dropdown__link" href="/0.5.0/">0.5.0</a></li><li><a class="dropdown__link" href="/0.4.0/">0.4.0</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div><a href="https://discord.gg/7zHQ8r2PgP" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" aria-label="Discord server">Discord</a><a href="https://twitter.com/driftctl" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" aria-label="Twitter account">Twitter</a><a href="https://github.com/cloudskiff/driftctl" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" aria-label="GitHub repository">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/driftctl_light.svg" alt="driftctl Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/driftctl_dark.svg" alt="driftctl Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">driftctl</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/">Docs</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/next/usage/cmd/scan-usage">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/0.17.0/usage/cmd/scan-usage">0.17.0</a></li><li class="menu__list-item"><a class="menu__link" href="/0.16.0/usage/cmd/scan-usage">0.16.0</a></li><li class="menu__list-item"><a class="menu__link" href="/0.15.0/usage/cmd/scan-usage">0.15.0</a></li><li class="menu__list-item"><a class="menu__link" href="/0.14.0/usage/cmd/scan-usage">0.14.0</a></li><li class="menu__list-item"><a class="menu__link" href="/0.13.0/usage/cmd/scan-usage">0.13.0</a></li><li class="menu__list-item"><a class="menu__link" href="/0.12.0/usage/cmd/scan-usage">0.12.0</a></li><li class="menu__list-item"><a class="menu__link" href="/0.11.0/usage/cmd/scan-usage">0.11.0</a></li><li class="menu__list-item"><a class="menu__link" href="/0.10.0/usage/cmd/scan-usage">0.10.0</a></li><li class="menu__list-item"><a class="menu__link" href="/0.9.0/usage/cmd/scan-usage">0.9.0</a></li><li class="menu__list-item"><a class="menu__link" href="/0.8.0/usage/cmd/scan-usage">0.8.0</a></li><li class="menu__list-item"><a class="menu__link" href="/0.7.1/usage/cmd/scan-usage">0.7.1</a></li><li class="menu__list-item"><a class="menu__link" href="/0.7.0/usage/cmd/scan-usage">0.7.0</a></li><li class="menu__list-item"><a class="menu__link" href="/0.6.0/">0.6.0</a></li><li class="menu__list-item"><a class="menu__link" href="/0.5.0/">0.5.0</a></li><li class="menu__list-item"><a class="menu__link" href="/0.4.0/">0.4.0</a></li><li class="menu__list-item"><a class="menu__link" href="/versions">All versions</a></li></ul></li><li class="menu__list-item"><a href="https://discord.gg/7zHQ8r2PgP" target="_blank" rel="noopener noreferrer" class="menu__link" aria-label="Discord server">Discord</a></li><li class="menu__list-item"><a href="https://twitter.com/driftctl" target="_blank" rel="noopener noreferrer" class="menu__link" aria-label="Twitter account">Twitter</a></li><li class="menu__list-item"><a href="https://github.com/cloudskiff/driftctl" target="_blank" rel="noopener noreferrer" class="menu__link" aria-label="GitHub repository">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/">What is driftctl?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/usage">Usage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/limitations">Limitations</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Usage</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Commands</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/next/usage/cmd/scan-usage">Scan</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/next/usage/cmd/completion-usage">Completion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/next/usage/cmd/gen-driftignore-usage">.driftignore generator</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Flags</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/usage/flags/crash-reporting">Crash Reporting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/usage/flags/version-check">Version Check</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/usage/flags/disable-telemetry">Disable telemetry</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Filtering</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/usage/filtering/driftignore">.driftignore</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/usage/filtering/rules">Filter Rules</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/next/usage/log-level">Log level</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Providers</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">AWS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/providers/aws/authentication">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/providers/aws/resources">Supported Resources</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">GitHub</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/providers/github/authentication">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/providers/github/resources">Supported Resources</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Google</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/providers/google/authentication">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/providers/google/resources">Supported Resources</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Azure</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/providers/azure/authentication">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/providers/azure/resources">Supported Resources</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CI/CD</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/ci_cd/intro">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/ci_cd/guides/circleci">CircleCI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/ci_cd/guides/ghaction">GitHub Action</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/ci_cd/guides/gitlabci">GitlabCI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/next/ci_cd/guides/jenkins">Jenkins</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for driftctl-docs <strong>Next</strong> version.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/0.17.0/usage/cmd/scan-usage">latest version</a></strong> (0.17.0).</div></div><div class="docItemContainer_a7m4"><article><div><span class="badge badge--secondary">Version: Next</span></div><header><h1 class="docTitle_Oumm">Scan</h1></header><div class="markdown"><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">OPTIONS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --from tfstate+s3://terraform.tfstate  --to github+tf --output console://</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="description"></a>Description<a class="hash-link" href="#description" title="Direct link to heading">#</a></h2><p>Scan resources from the input Terraform statefile and compare it to your current profile infrastructure.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="options"></a>Options<a class="hash-link" href="#options" title="Direct link to heading">#</a></h3><table><thead><tr><th align="left">Flag</th><th align="center">Environment</th><th align="right">Default</th></tr></thead><tbody><tr><td align="left"><a href="#--from" title="iac source"><code>--from</code></a></td><td align="center"><code>DCTL_FROM</code></td><td align="right"><code>tfstate://terraform.tfstate</code></td></tr><tr><td align="left"><a href="#--output" title="output"><code>--output</code></a></td><td align="center"><code>DCTL_OUTPUT</code></td><td align="right"><code>console://</code></td></tr><tr><td align="left"><a href="#--to" title="to"><code>--to</code></a></td><td align="center"><code>DCTL_TO</code></td><td align="right"><code>aws+tf</code></td></tr><tr><td align="left"><a href="#--quiet" title="quiet"><code>--quiet</code></a></td><td align="center"><code>DCTL_QUIET</code></td><td align="right"><code>false</code></td></tr><tr><td align="left"><a href="#--strict" title="strict"><code>--strict</code></a></td><td align="center"><code>DCTL_STRICT</code></td><td align="right"><code>false</code></td></tr><tr><td align="left"><a href="#--deep" title="deep"><code>--deep</code></a></td><td align="center"><code>DCTL_DEEP</code></td><td align="right"><code>false</code></td></tr><tr><td align="left"><a href="#--tf-provider-version" title="tf-provider-version"><code>--tf-provider-version</code></a></td><td align="center"><code>DCTL_TF_PROVIDER_VERSION</code></td><td align="right"></td></tr><tr><td align="left"><a href="#--driftignore" title="driftignore"><code>--driftignore</code></a></td><td align="center"><code>DCTL_DRIFTIGNORE</code></td><td align="right"><code>.driftignore</code></td></tr><tr><td align="left"><a href="#--config-dir" title="config-dir"><code>--config-dir</code></a></td><td align="center"><code>DCTL_CONFIG_DIR</code></td><td align="right"><code>$HOME</code></td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="--from"></a>--from<a class="hash-link" href="#--from" title="Direct link to heading">#</a></h2><p>Currently, driftctl only supports reading IaC from a Terraform state.
We are investigating to support the Terraform code as well, as a state does not represent an intention.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Multiple states can be read by passing <code>--from</code> flags. You can also use glob patterns to match multiple state files at once.</p></div></div><p>Example:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># I want to read a local state and a state stored in an S3 bucket:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --from tfstate+s3://statebucketdriftctl/terraform.tfstate </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --from tfstate://terraform_toto.tfstate</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># You can also read all files under a given prefix for S3</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --from tfstate+s3://statebucketdriftctl/states</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># In a given local folder</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># driftctl will recursively use all files under this folder.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># N.B. Symlinks under the root folder will be ignored.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#      If the folder itself is a symlink it will be followed.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --from tfstate://my-states/directory</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Only match state files in that directory</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --from tfstate://my-states/directory/*.tfstate</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Using glob pattern to recursively use any *.tfstate file.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --from tfstate://path/to/**/*.tfstate</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --from tfstate+s3://path/to/**/*.tfstate</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># We also support HTTP(s) URLs with authentication</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># the tool will fetch the file from the given URL</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># You can use the --headers option if you need to add extra headers to the request (e.g: for authentication purposes)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --from tfstate+https://example.com/terraform.tfstate --headers </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Authorization=Basic ...; X-Custom-Header=value&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># You can also read the current state for a given workspace from Terraform Cloud</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Don&#x27;t forget to provide your Terraform Cloud API token</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --from tfstate+tfcloud://</span><span class="token variable" style="color:rgb(191, 199, 213)">$WORKSPACE_ID</span><span class="token plain"> --tfc-token </span><span class="token variable" style="color:rgb(191, 199, 213)">$TFC_TOKEN</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># You can also read the current state for a given workspace from Terraform Enterprise by passing the tfc-endpoint value</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># that&#x27;s specific to your Org&#x27;s Terraform Enterprise installation</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># You can obtain your workspace id from the General Settings of the workspace</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Don&#x27;t forget to provide your Terraform Enterprise API token</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --from tfstate+tfcloud://</span><span class="token variable" style="color:rgb(191, 199, 213)">$WORKSPACE_ID</span><span class="token plain"> --tfc-token </span><span class="token variable" style="color:rgb(191, 199, 213)">$TFC_TOKEN</span><span class="token plain"> --tfc-endpoint </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;https://tfe.example.com/api/v2&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="supported-iac-sources"></a>Supported IaC sources<a class="hash-link" href="#supported-iac-sources" title="Direct link to heading">#</a></h3><ul><li>Terraform state</li><li>Local: <code>--from tfstate://terraform.tfstate</code></li><li>S3: <code>--from tfstate+s3://my-bucket/path/to/state.tfstate</code></li><li>HTTPS: <code>--from tfstate+https://my-url/state.tfstate</code></li><li>Terraform Cloud / Terraform Enterprise: <code>--from tfstate+tfcloud://WORKSPACE_ID</code></li></ul><p>You can use any unsupported backend by using <code>terraform</code> to pipe your state in a file and then use this file with driftctl:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ terraform state pull </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> state.tfstate</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --from tfstate://state.tfstate</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="s3"></a>S3<a class="hash-link" href="#s3" title="Direct link to heading">#</a></h4><p>driftctl needs read-only access so you could use the policy below to ensure minimal access to your state file.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;Version&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2012-10-17&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;Statement&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;Effect&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Allow&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;Action&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3:ListBucket&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;Resource&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arn:aws:s3:::mybucket&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;Effect&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Allow&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;Action&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3:GetObject&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;Resource&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arn:aws:s3:::mybucket/path/to/my/key&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="http--gitlab"></a>HTTP + GitLab<a class="hash-link" href="#http--gitlab" title="Direct link to heading">#</a></h4><p>The HTTP backend supports the GitLab managed Terraform State using their API.</p><p>All you need is a GitLab repository that contains a Terraform state and an access token with the <code>read_api</code> scope.</p><p>Here&#x27;s what the command looks like:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">GITLAB_TOKEN</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">access_token</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">driftctl scan </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">--from tfstate+https://gitlab.com/api/v4/projects/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">project_id</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">/terraform/state/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">path_to_state</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">--headers </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Authorization=Bearer </span><span class="token string variable" style="color:rgb(191, 199, 213)">${GITLAB_TOKEN}</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You can find more information about the GitLab managed Terraform State on the <a href="https://docs.gitlab.com/ee/user/infrastructure/terraform_state.html" target="_blank" rel="noopener noreferrer">GitLab documentation website</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="--output"></a>--output<a class="hash-link" href="#--output" title="Direct link to heading">#</a></h2><p>driftctl supports multiple kinds of output formats and by default uses the standard output (console).</p><p>Environment: <code>DCTL_OUTPUT</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="console"></a>Console<a class="hash-link" href="#console" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="usage"></a>Usage<a class="hash-link" href="#usage" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --output console://</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">DCTL_OUTPUT</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">console:// driftctl scan</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>driftctl can write to multiple outputs at once by passing multiple <code>--output</code> flags.</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="structure"></a>Structure<a class="hash-link" href="#structure" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-console codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Found missing resources:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  aws_s3_bucket:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - driftctl-bucket-test-2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Found resources not covered by IaC:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  aws_s3_bucket:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    - driftctl-bucket-test-3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Found changed resources:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - driftctl-bucket-test-1 (aws_s3_bucket):</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ~ Versioning.0.Enabled: false =&gt; true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Found 3 resource(s)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> - 33% coverage</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> - 1 covered by IaC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> - 1 not covered by IaC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> - 1 missing on cloud provider</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> - 1/1 changed outside of IaC</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="json"></a>JSON<a class="hash-link" href="#json" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="usage-1"></a>Usage<a class="hash-link" href="#usage-1" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --output json:///tmp/result.json </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Will output results to /tmp/result.json</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --output json://result.json </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Will output results to ./result.json</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --output json://stdout </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Will output results in json to stdout directly</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">DCTL_OUTPUT</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">json://result.json driftctl scan</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="structure-1"></a>Structure<a class="hash-link" href="#structure-1" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;summary&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;total_resources&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;total_changed&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;total_unmanaged&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;total_missing&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;total_managed&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;managed&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// list of resources found in IaC and in sync with remote</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;driftctl-bucket-test-1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;aws_s3_bucket&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;source&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Source encapsulates metadata explaining where the resource is coming from within an IaC</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;source&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tfstate://terraform.tfstate&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Represents the Terraform state file</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;namespace&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;module&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// If you use Terraform module, it will be displayed here</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;internal_name&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;my_name&quot;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Represents the internal Terraform resource&#x27;s name</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;unmanaged&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// list of resources found in remote but not in IaC</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;driftctl-bucket-test-3&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;aws_s3_bucket&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;missing&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// list of resources found in IaC but not on remote</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;driftctl-bucket-test-2&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;aws_s3_bucket&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;differences&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// A list of changes on managed resources</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;res&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;driftctl-bucket-test-1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;aws_s3_bucket&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;changelog&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;update&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Kind of change, could be one of update, create, delete</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;path&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Path of the change, sorted from root to leaf</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Versioning&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Enabled&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;from&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Mixed type</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;to&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Mixed type</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;coverage&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">33</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="html"></a>HTML<a class="hash-link" href="#html" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="usage-2"></a>Usage<a class="hash-link" href="#usage-2" title="Direct link to heading">#</a></h4><p>You can now visualize your scan results in your browser with the HTML output:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --output html://output.html </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Will output results to ./output.html</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">DCTL_OUTPUT</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">html://output.html driftctl scan</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="screenshots"></a>Screenshots<a class="hash-link" href="#screenshots" title="Direct link to heading">#</a></h4><p><img alt="Output HTML With Drifts" src="/assets/images/output_html_1-b8c8ce70a1cda9dac849d341bdadcdf5.png">
<img alt="Output HTML Without Drifts" src="/assets/images/output_html_2-836fad71065e57d10a2355ced78dc8ca.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="computed-fields"></a>Computed Fields<a class="hash-link" href="#computed-fields" title="Direct link to heading">#</a></h3><p>From Terraform documentation, a <code>computed</code> field is often used to represent values that are not user configurable or can not be known at time of <code>terraform plan</code> or <code>apply</code>.</p><p>Since those values are not known ahead of time from terraform point of view, it is obviously possible that the values displayed in a terraform state file are not up-to-date and may require a <code>terraform refresh</code>.</p><p>Thus, it could be possible that driftctl finds drifts that are considered false positives because of those outdated values.</p><p>We decided to output computed fields and to display a message at the end of the scan to remind you of this behavior.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Found changed resources:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - eipalloc-0e2894d8ea42851df </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">aws_eip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ~ AssociationId: </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;eipassoc-0ee67e1ca759733a2&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">computed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ~ Instance: </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;i-004611704837fd09a&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">computed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ~ NetworkInterface: </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;eni-0a62972b0471447f6&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">computed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ~ PrivateDns: </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">nil</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ip-172-31-40-4.eu-west-3.compute.internal&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">computed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ~ PrivateIp: </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;172.31.40.4&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">computed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Found </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> resource</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> - </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain">% coverage</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> - </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> covered by IaC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> - </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> not covered by IaC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> - </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> missing on cloud provider</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> - </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">/1 changed outside of IaC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">You have diffs on computed fields, check the documentation </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> potential </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"> positive drifts</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="--to"></a>--to<a class="hash-link" href="#--to" title="Direct link to heading">#</a></h2><p>driftctl supports multiple providers. By default it will scan against AWS, but you can change this using <code>--to</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="usage-3"></a>Usage<a class="hash-link" href="#usage-3" title="Direct link to heading">#</a></h3><p>Environment: <code>DCTL_TO</code></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --to PROVIDER+TYPE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># examples:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --to aws+tf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">DCTL_TO</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">github+tf driftctl scan</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="supported-providers"></a>Supported Providers<a class="hash-link" href="#supported-providers" title="Direct link to heading">#</a></h3><p>driftctl supports these providers:</p><ul><li><code>github+tf</code></li><li><code>aws+tf</code></li><li><code>gcp+tf</code></li><li><code>azure+tf</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="--quiet"></a>--quiet<a class="hash-link" href="#--quiet" title="Direct link to heading">#</a></h2><p>This flag prevents stdout to be use for anything but the scan result.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="--strict"></a>--strict<a class="hash-link" href="#--strict" title="Direct link to heading">#</a></h2><p>When running driftctl against an AWS account, you may experience unnecessary noises with resources that don&#x27;t belong to you. It can be the case if you have an organization account in which you will by default have a service-linked role associated to your account (e.g. AWSServiceRoleForOrganizations). For now, driftctl ignores those service-linked resources by default.</p><p>If you still want to include those resources in the report anyway, you can enable the strict mode.</p><p>For now, resources include:</p><ul><li>Service-linked AWS IAM roles, including their policies and policy attachments</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="usage-4"></a>Usage<a class="hash-link" href="#usage-4" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Enable the strict mode</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --strict</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="--deep"></a>--deep<a class="hash-link" href="#--deep" title="Direct link to heading">#</a></h2><p>âš ï¸ This is <strong>EXPERIMENTAL</strong></p><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>Enabling deep mode while using a Terraform state as IaC source can lead to unexpected behaviors: false positive drifts, undetected drifts.</p></div></div><p>Deep mode enables resources details retrieval. It was the original driftctl behavior.</p><p>In <strong>deep</strong> mode we compare resources details to expected ones (like a terraform plan).
In <strong>non-deep</strong> mode (the default one) we only enumerate resources and display which ones are out of IaC scope.</p><p>Since it overlaps the new <code>terraform plan</code> behavior (as of Terraform 0.15 it shows diffs between your state and the remote) we moved the original behavior under the <code>--deep</code> <strong>experimental</strong> flag.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>If you use a version of driftctl prior to 0.13, the deep mode was the default behavior. If you want to keep the old behavior in a newer version you have to enable the deep mode flag.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="usage-5"></a>Usage<a class="hash-link" href="#usage-5" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Enable the deep mode</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --deep</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="--tf-provider-version"></a>--tf-provider-version<a class="hash-link" href="#--tf-provider-version" title="Direct link to heading">#</a></h2><p>You can specify a terraform provider version to use. If none, driftctl uses defaults from the table below:</p><table><thead><tr><th align="left">provider</th><th align="center">version</th></tr></thead><tbody><tr><td align="left">aws</td><td align="center">3.19.0</td></tr><tr><td align="left">github</td><td align="center">4.4.0</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="usage-6"></a>Usage<a class="hash-link" href="#usage-6" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># I use terraform provider 3.43.0 so I can use this provider with driftctl to avoid scan errors</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># driftctl will scan with an AWS terraform provider v3.43.0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">DCTL_TF_PROVIDER_VERSION</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">3.43</span><span class="token plain">.0 driftctl scan</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Same parameter is used for every cloud provider</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># driftctl will scan with a GitHub terraform provider v4.10.1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">DCTL_TF_PROVIDER_VERSION</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">4.10</span><span class="token plain">.1 driftctl scan --to github+tf</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="--driftignore"></a>--driftignore<a class="hash-link" href="#--driftignore" title="Direct link to heading">#</a></h2><p>The default name for a driftignore file is <code>.driftignore</code>. If for some reason you want to use a custom filename, you can do so using the <code>--driftignore</code> flag. This is especially useful when you have multiple driftignore files, where each of them represents a particular use case.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>You can use only one driftignore file at once.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="usage-7"></a>Usage<a class="hash-link" href="#usage-7" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Apply ignore directives from the /path/to/driftignore file</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --driftignore /path/to/driftignore</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="--config-dir"></a>--config-dir<a class="hash-link" href="#--config-dir" title="Direct link to heading">#</a></h2><p>You can change the directory path that driftctl uses for configuration. By default, it is the <code>$HOME</code> directory.</p><p>This can be useful, for example, if you want to invoke driftctl in an AWS Lambda function where you can only use the <code>/tmp</code> folder.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="usage-8"></a>Usage<a class="hash-link" href="#usage-8" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --config-dir path_to_driftctl_config_dir</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">DCTL_CONFIG_DIR</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">path_to_driftctl_config_dir driftctl scan</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="--tf-lockfile"></a>--tf-lockfile<a class="hash-link" href="#--tf-lockfile" title="Direct link to heading">#</a></h2><p>By default, driftctl tries to read a Terraform lock file (<code>.terraform.lock.hcl</code>) in the current directory, so driftctl can automatically detect which provider to use, according to the <code>--to</code> flag. You can specify a custom path for that file using the <code>--tf-lockfile</code> flag. If parsing the lockfile fails for some reason, errors will be logged and scan will continue.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Note that when using both <code>--tf-lockfile</code> and <code>--tf-provider-version</code> flags together, <code>--tf-provider-version</code> will simply take precedence overall.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="usage-9"></a>Usage<a class="hash-link" href="#usage-9" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ driftctl scan --to aws+tf --tf-lockfile path/to/.terraform.lock.hcl</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/cloudskiff/driftctl-docs/edit/main/docs/usage/cmd/scan.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/next/limitations"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Known Issues and Limitations</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/next/usage/cmd/completion-usage"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Completion Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#description" class="table-of-contents__link">Description</a><ul><li><a href="#options" class="table-of-contents__link">Options</a></li></ul></li><li><a href="#--from" class="table-of-contents__link">--from</a><ul><li><a href="#supported-iac-sources" class="table-of-contents__link">Supported IaC sources</a></li></ul></li><li><a href="#--output" class="table-of-contents__link">--output</a><ul><li><a href="#console" class="table-of-contents__link">Console</a></li><li><a href="#json" class="table-of-contents__link">JSON</a></li><li><a href="#html" class="table-of-contents__link">HTML</a></li><li><a href="#computed-fields" class="table-of-contents__link">Computed Fields</a></li></ul></li><li><a href="#--to" class="table-of-contents__link">--to</a><ul><li><a href="#usage-3" class="table-of-contents__link">Usage</a></li><li><a href="#supported-providers" class="table-of-contents__link">Supported Providers</a></li></ul></li><li><a href="#--quiet" class="table-of-contents__link">--quiet</a></li><li><a href="#--strict" class="table-of-contents__link">--strict</a><ul><li><a href="#usage-4" class="table-of-contents__link">Usage</a></li></ul></li><li><a href="#--deep" class="table-of-contents__link">--deep</a><ul><li><a href="#usage-5" class="table-of-contents__link">Usage</a></li></ul></li><li><a href="#--tf-provider-version" class="table-of-contents__link">--tf-provider-version</a><ul><li><a href="#usage-6" class="table-of-contents__link">Usage</a></li></ul></li><li><a href="#--driftignore" class="table-of-contents__link">--driftignore</a><ul><li><a href="#usage-7" class="table-of-contents__link">Usage</a></li></ul></li><li><a href="#--config-dir" class="table-of-contents__link">--config-dir</a><ul><li><a href="#usage-8" class="table-of-contents__link">Usage</a></li></ul></li><li><a href="#--tf-lockfile" class="table-of-contents__link">--tf-lockfile</a><ul><li><a href="#usage-9" class="table-of-contents__link">Usage</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2020-2021 CloudSkiff.</div></div></div></footer></div>
<script src="/styles.6813f97f.js"></script>
<script src="/runtime~main.f5e80533.js"></script>
<script src="/main.32044eee.js"></script>
<script src="/1.b27f324d.js"></script>
<script src="/2.a5761f4f.js"></script>
<script src="/357.88d1ffa6.js"></script>
<script src="/358.b7e1cd92.js"></script>
<script src="/935f2afb.1de65c9f.js"></script>
<script src="/17896441.c9630216.js"></script>
<script src="/c68377e9.51d23025.js"></script>
</body>
</html>